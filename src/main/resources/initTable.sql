DROP TABLE genres CASCADE;
DROP TABLE events CASCADE;
DROP TABLE IF EXISTS genres_events;

CREATE TABLE events
(
    event_id    int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title       varchar,
    first_date  timestamp,
    last_date   timestamp,
    theatre     varchar,
    description varchar,
    event_url   varchar,
    min_price   int,
    max_price   int,
    next_show   int
);

INSERT INTO events (title, theatre, description, event_url, min_price, max_price)

CREATE TABLE genres
(
    genre_id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    genre    varchar UNIQUE
);

CREATE TABLE genres_events
(
    genre_id int REFERENCES genres (genre_id),
    event_id int REFERENCES events (event_id),
    PRIMARY KEY (genre_id, event_id)
);